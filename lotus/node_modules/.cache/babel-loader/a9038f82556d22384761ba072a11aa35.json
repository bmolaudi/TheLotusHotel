{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Mpho\\\\Desktop\\\\AOD\\\\Informatics Project\\\\lotus.zip (1)\\\\src\\\\components\\\\admin\\\\upload-item.js\";\nimport React, { Component } from 'react';\nimport { storage, firestore } from '../../config/firebaseConfig';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nclass AddRoom extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      imageURL: \"\",\n      title: \"\",\n      guest: \"\",\n      loading: false,\n      error: false,\n      roomNumber: \"\",\n      price: \"\"\n    };\n\n    this.handleOnImageChange = event => {\n      this.setState({\n        imageURL: event.target.files[0]\n      });\n    };\n\n    this.handleOnChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value,\n        error: false\n      });\n    };\n\n    this.handleOnSubmit = event => {\n      event.preventDefault();\n      this.setState({\n        loading: true,\n        error: false\n      });\n      const {\n        imageURL\n      } = this.state;\n      const {\n        title,\n        guest,\n        roomNumber,\n        price\n      } = this.state;\n\n      if (imageURL === '' || title === '' || guest === '' || roomNumber === '' || price === '') {\n        this.setState({\n          loading: false,\n          error: true\n        });\n      } else {\n        const uploadTask = storage.ref(`images/${imageURL.name}`).put(imageURL);\n        uploadTask.on('state_changed', snapshot => {// progrss function ....\n        }, error => {\n          // error function ....\n          this.setState({\n            loading: false\n          });\n        }, () => {\n          // complete function ....\n          storage.ref('images').child(imageURL.name).getDownloadURL().then(downloadURL => {\n            const addedRoom = {\n              roomImage: downloadURL,\n              title,\n              guest,\n              roomNumber: '',\n              price\n            };\n            firestore.collection(\"rooms\").doc().set({\n              addedRoom\n            }).then(doc => {\n              document.getElementById(\"upload-iten\").reset();\n              this.props.handleOnSubmit(addedRoom);\n              this.setState({\n                loading: false,\n                error: false,\n                RoomImage: '',\n                title: '',\n                guest: '',\n                roomNumber: '',\n                price: ''\n              });\n            }).catch(error => {\n              this.setState({\n                loading: true\n              });\n              console.error(error);\n            });\n          });\n        });\n      }\n    };\n  }\n\n  render() {\n    const {\n      title,\n      guest,\n      price,\n      roomNumber,\n      loading,\n      error\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-dialog modal-dialog-scrollable\",\n      \"data-backdrop\": \"static\",\n      tabIndex: \"9999\",\n      role: \"dialog\",\n      \"aria-labelledby\": \"staticBackdropLabel\",\n      \"aria-hidden\": \"true\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-header text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"modal-title\",\n      id: \"exampleModalScrollableTitle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 25\n      }\n    }, \"Room Upload Panel\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      id: \"upload-item\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"custom-file\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      className: \"custom-file-input\",\n      name: \"imageURL\",\n      onChange: this.handleOnImageChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"custom-file-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 37\n      }\n    }, \"Choose file\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.handleOnChange,\n      value: title,\n      className: \"form-control\",\n      name: \"title\",\n      placeholder: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.handleOnChange,\n      value: guest,\n      className: \"form-control\",\n      name: \"guest\",\n      placeholder: \"number of guest\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"text\",\n      value: roomNumber,\n      onChange: this.handleOnChange,\n      placeholder: \"Room number\",\n      name: \"roomNumber\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      type: \"text\",\n      value: price,\n      onChange: this.handleOnChange,\n      placeholder: \"Price per night\",\n      name: \"price\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 33\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"modal-footer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      disabled: loading,\n      type: \"button\",\n      className: \"btn btn-secondary btn-block\",\n      \"data-dismiss\": \"modal\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-times\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 127\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      disabled: loading,\n      onClick: this.handleOnSubmit,\n      type: \"button\",\n      className: \"btn btn-primary btn-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 25\n      }\n    }, loading ? /*#__PURE__*/React.createElement(CircularProgress, {\n      size: 24,\n      color: \"secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 40\n      }\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 91\n      }\n    }, \"Upload Item\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"error-message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 21\n      }\n    }, error && /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 35\n      }\n    }, \"Fill in all the fields\"))));\n  }\n\n}\n\nexport default AddRoom;","map":{"version":3,"sources":["C:/Users/Mpho/Desktop/AOD/Informatics Project/lotus.zip (1)/src/components/admin/upload-item.js"],"names":["React","Component","storage","firestore","CircularProgress","AddRoom","state","imageURL","title","guest","loading","error","roomNumber","price","handleOnImageChange","event","setState","target","files","handleOnChange","name","value","handleOnSubmit","preventDefault","uploadTask","ref","put","on","snapshot","child","getDownloadURL","then","downloadURL","addedRoom","roomImage","collection","doc","set","document","getElementById","reset","props","RoomImage","catch","console","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { storage, firestore } from '../../config/firebaseConfig';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nclass AddRoom extends Component {\r\n    state = {\r\n        imageURL: \"\",\r\n        title: \"\",\r\n        guest: \"\",\r\n        loading: false,\r\n        error: false,\r\n        roomNumber: \"\",\r\n        price: \"\",\r\n    }\r\n\r\n    handleOnImageChange = (event) => {\r\n        this.setState({ imageURL: event.target.files[0] })\r\n    }\r\n\r\n    handleOnChange = (event) => {\r\n        this.setState({ [event.target.name]: event.target.value, error: false })\r\n\r\n    }\r\n\r\n    handleOnSubmit = (event) => {\r\n        event.preventDefault();\r\n        this.setState({ loading: true, error: false })\r\n        const { imageURL } = this.state;\r\n        const { title, guest, roomNumber, price, } = this.state;\r\n        if (imageURL === '' || title === '' || guest === ''  || roomNumber === ''|| price === '') {\r\n            this.setState({ loading: false, error: true })\r\n        } else {\r\n            const uploadTask = storage.ref(`images/${imageURL.name}`).put(imageURL);\r\n            uploadTask.on('state_changed',\r\n                (snapshot) => {\r\n                    // progrss function ....\r\n                },\r\n                (error) => {\r\n                    // error function ....\r\n                    this.setState({ loading: false })\r\n                },\r\n                () => {\r\n                    // complete function ....\r\n                    storage.ref('images').child(imageURL.name).getDownloadURL().then(downloadURL => {\r\n                        const addedRoom = {\r\n                            roomImage: downloadURL,\r\n                            title,\r\n                            guest,\r\n                            roomNumber: '',\r\n                            price,\r\n                        }\r\n                        firestore.collection(\"rooms\").doc().set({\r\n                            addedRoom\r\n                        }).then((doc) => {\r\n                            document.getElementById(\"upload-iten\").reset();\r\n                            this.props.handleOnSubmit(addedRoom)\r\n                            this.setState({\r\n                                loading: false, error: false, RoomImage: '',\r\n                                title: '',\r\n                                guest: '',\r\n                                roomNumber: '',\r\n                                price: '',\r\n                            });\r\n\r\n                        }).catch((error) => {\r\n                            this.setState({ loading: true })\r\n                            console.error(error);\r\n                        });\r\n                    })\r\n                });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { title, guest, price, roomNumber,loading, error } = this.state;\r\n        return (\r\n            <div className=\"modal-dialog modal-dialog-scrollable\" data-backdrop=\"static\" tabIndex=\"9999\" role=\"dialog\" aria-labelledby=\"staticBackdropLabel\" aria-hidden=\"true\">\r\n                <div className=\"modal-content\">\r\n                    <div className=\"modal-header text-center\">\r\n                        <h5 className=\"modal-title\" id=\"exampleModalScrollableTitle\">Room Upload Panel</h5>\r\n                    </div>\r\n                    <div className=\"modal-body\">\r\n                        <form id=\"upload-item\">\r\n                            <div className=\"form-group\">\r\n                                <div className=\"custom-file\">\r\n                                    <input\r\n                                        type=\"file\"\r\n                                        className=\"custom-file-input\"\r\n                                        name=\"imageURL\"\r\n                                        onChange={this.handleOnImageChange} />\r\n                                    <label className=\"custom-file-label\">Choose file</label>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <input onChange={this.handleOnChange} value={title} className=\"form-control\" name=\"title\" placeholder=\"title\">\r\n                            \r\n                                </input>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <input onChange={this.handleOnChange} value={guest} className=\"form-control\" name=\"guest\" placeholder=\"number of guest\">\r\n                                    \r\n                                </input>\r\n                            </div>\r\n\r\n                            <div className=\"form-group\">\r\n                                <input\r\n                                    className=\"form-control\"\r\n                                    type=\"text\"\r\n                                    value={roomNumber}\r\n                                    onChange={this.handleOnChange}\r\n                                    placeholder=\"Room number\"\r\n                                    name=\"roomNumber\" />\r\n                            </div>\r\n\r\n                            <div className=\"form-group\">\r\n                                <input\r\n                                    className=\"form-control\"\r\n                                    type=\"text\"\r\n                                    value={price}\r\n                                    onChange={this.handleOnChange}\r\n                                    placeholder=\"Price per night\"\r\n                                    name=\"price\" />\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                    <div className=\"modal-footer\">\r\n                        <button disabled={loading} type=\"button\" className=\"btn btn-secondary btn-block\" data-dismiss=\"modal\"><i className=\"fas fa-times\"></i></button>\r\n                        <button disabled={loading} onClick={this.handleOnSubmit} type=\"button\" className=\"btn btn-primary btn-block\">\r\n                            {loading ? <CircularProgress size={24} color=\"secondary\" /> : <div>Upload Item</div>}\r\n                        </button>\r\n                    </div>\r\n                    <div className=\"error-message\">\r\n                        {error && <div className=\"text-center\">Fill in all the fields</div>}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AddRoom;"]},"metadata":{},"sourceType":"module"}