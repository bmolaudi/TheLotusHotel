{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Mpho\\\\Desktop\\\\AOD\\\\Informatics Project\\\\lotus.zip (1)\\\\src\\\\components\\\\admin\\\\guest-management.js\";\nimport React, { forwardRef, useEffect, useState } from 'react';\nimport MaterialTable from 'material-table';\nimport AddBox from '@material-ui/icons/AddBox';\nimport ArrowDownward from '@material-ui/icons/ArrowDownward';\nimport Check from '@material-ui/icons/Check';\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\nimport ChevronRight from '@material-ui/icons/ChevronRight';\nimport Clear from '@material-ui/icons/Clear';\nimport DeleteOutline from '@material-ui/icons/DeleteOutline';\nimport Edit from '@material-ui/icons/Edit';\nimport FilterList from '@material-ui/icons/FilterList';\nimport FirstPage from '@material-ui/icons/FirstPage';\nimport LastPage from '@material-ui/icons/LastPage';\nimport Remove from '@material-ui/icons/Remove';\nimport SaveAlt from '@material-ui/icons/SaveAlt';\nimport Search from '@material-ui/icons/Search';\nimport ViewColumn from '@material-ui/icons/ViewColumn';\nimport { getUserDetails, addUser, deleteUser, updateUser } from '../../config/firebaseManageUser';\nimport { MuiThemeProvider } from '@material-ui/core';\nimport { createMuiTheme } from '@material-ui/core/styles';\nconst tableIcons = {\n  Add: forwardRef((props, ref) => /*#__PURE__*/React.createElement(AddBox, Object.assign({}, props, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 37\n    }\n  }))),\n  Check: forwardRef((props, ref) => /*#__PURE__*/React.createElement(Check, Object.assign({}, props, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 39\n    }\n  }))),\n  Clear: forwardRef((props, ref) => /*#__PURE__*/React.createElement(Clear, Object.assign({}, props, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 39\n    }\n  }))),\n  Delete: forwardRef((props, ref) => /*#__PURE__*/React.createElement(DeleteOutline, Object.assign({}, props, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 40\n    }\n  }))),\n  DetailPanel: forwardRef((props, ref) => /*#__PURE__*/React.createElement(ChevronRight, Object.assign({}, props, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 45\n    }\n  }))),\n  Edit: forwardRef((props, ref) => /*#__PURE__*/React.createElement(Edit, Object.assign({}, props, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 38\n    }\n  }))),\n  Export: forwardRef((props, ref) => /*#__PURE__*/React.createElement(SaveAlt, Object.assign({}, props, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 40\n    }\n  }))),\n  Filter: forwardRef((props, ref) => /*#__PURE__*/React.createElement(FilterList, Object.assign({}, props, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 40\n    }\n  }))),\n  FirstPage: forwardRef((props, ref) => /*#__PURE__*/React.createElement(FirstPage, Object.assign({}, props, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 43\n    }\n  }))),\n  LastPage: forwardRef((props, ref) => /*#__PURE__*/React.createElement(LastPage, Object.assign({}, props, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 42\n    }\n  }))),\n  NextPage: forwardRef((props, ref) => /*#__PURE__*/React.createElement(ChevronRight, Object.assign({}, props, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 42\n    }\n  }))),\n  PreviousPage: forwardRef((props, ref) => /*#__PURE__*/React.createElement(ChevronLeft, Object.assign({}, props, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 46\n    }\n  }))),\n  ResetSearch: forwardRef((props, ref) => /*#__PURE__*/React.createElement(Clear, Object.assign({}, props, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 45\n    }\n  }))),\n  Search: forwardRef((props, ref) => /*#__PURE__*/React.createElement(Search, Object.assign({}, props, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 40\n    }\n  }))),\n  SortArrow: forwardRef((props, ref) => /*#__PURE__*/React.createElement(ArrowDownward, Object.assign({}, props, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 43\n    }\n  }))),\n  ThirdStateCheck: forwardRef((props, ref) => /*#__PURE__*/React.createElement(Remove, Object.assign({}, props, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 49\n    }\n  }))),\n  ViewColumn: forwardRef((props, ref) => /*#__PURE__*/React.createElement(ViewColumn, Object.assign({}, props, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 44\n    }\n  })))\n};\n\nfunction GuestManagement() {\n  const theme = createMuiTheme({\n    palette: {\n      primary: {\n        main: '#4caf50'\n      },\n      secondary: {\n        main: '#ff9100'\n      }\n    }\n  });\n  const [state, setState] = React.useState({\n    columns: [{\n      title: 'FirstName',\n      field: 'firstname'\n    }, {\n      title: 'LastName',\n      field: 'lastname'\n    }, {\n      title: 'initials',\n      field: 'initials'\n    }, {\n      title: 'Email',\n      field: 'email'\n    }, {\n      title: 'userType',\n      field: 'userType'\n    }]\n  });\n  var [data, setData] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  useEffect(() => {\n    // By moving this function inside the effect, we can clearly see the values it uses.\n    setIsLoading(true);\n\n    async function fetchProduct() {\n      // if (!firebase.apps.length) {\n      //     firebase.initializeApp(firebaseConfig);\n      // }\n      setData(await getUserDetails());\n      setIsLoading(false);\n    }\n\n    fetchProduct();\n  }, []);\n\n  const handleCreateUser = async data => {\n    setIsLoading(true);\n    await addUser(data.firstname, data.lastname, data.email, data.initials, data.userType).then(async () => {\n      setTimeout(async function () {\n        setData(await getUserDetails());\n      }, 400);\n    });\n    setIsLoading(false);\n  };\n\n  const handleEditUser = async data => {\n    setIsLoading(true);\n    await updateUser(data.id, data.firstname, data.lastname, data.email, data.initials, data.userType).then(async () => {\n      setTimeout(async function () {\n        setData(await getUserDetails());\n      }, 400);\n    });\n    setIsLoading(false);\n  };\n\n  const handleDeleteUser = async id => {\n    console.log(id);\n    setIsLoading(true);\n    await deleteUser(id).then(async () => {\n      setIsLoading(true);\n      setTimeout(async function () {\n        setData(await getUserDetails());\n      }, 400);\n      setIsLoading(false);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(MuiThemeProvider, {\n    theme: theme,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(MaterialTable, {\n    title: \"Guest Management\",\n    columns: state.columns,\n    data: data,\n    icons: tableIcons,\n    isLoading: isLoading,\n    editable: {\n      // isEditable: rowData => rowData.id === \"id\", // make id not editable\n      onRowAdd: newData => handleCreateUser(newData),\n      onRowDelete: oldData => handleDeleteUser(oldData.id),\n      onRowUpdate: (newData, oldData) => handleEditUser(newData)\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 5\n    }\n  })));\n}\n\nexport default GuestManagement;","map":{"version":3,"sources":["C:/Users/Mpho/Desktop/AOD/Informatics Project/lotus.zip (1)/src/components/admin/guest-management.js"],"names":["React","forwardRef","useEffect","useState","MaterialTable","AddBox","ArrowDownward","Check","ChevronLeft","ChevronRight","Clear","DeleteOutline","Edit","FilterList","FirstPage","LastPage","Remove","SaveAlt","Search","ViewColumn","getUserDetails","addUser","deleteUser","updateUser","MuiThemeProvider","createMuiTheme","tableIcons","Add","props","ref","Delete","DetailPanel","Export","Filter","NextPage","PreviousPage","ResetSearch","SortArrow","ThirdStateCheck","GuestManagement","theme","palette","primary","main","secondary","state","setState","columns","title","field","data","setData","isLoading","setIsLoading","fetchProduct","handleCreateUser","firstname","lastname","email","initials","userType","then","setTimeout","handleEditUser","id","handleDeleteUser","console","log","onRowAdd","newData","onRowDelete","oldData","onRowUpdate"],"mappings":"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","sourcesContent":["import React, { forwardRef, useEffect, useState }  from 'react';\r\nimport MaterialTable from 'material-table';\r\nimport AddBox from '@material-ui/icons/AddBox';\r\nimport ArrowDownward from '@material-ui/icons/ArrowDownward';\r\nimport Check from '@material-ui/icons/Check';\r\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\r\nimport ChevronRight from '@material-ui/icons/ChevronRight';\r\nimport Clear from '@material-ui/icons/Clear';\r\nimport DeleteOutline from '@material-ui/icons/DeleteOutline';\r\nimport Edit from '@material-ui/icons/Edit';\r\nimport FilterList from '@material-ui/icons/FilterList';\r\nimport FirstPage from '@material-ui/icons/FirstPage';\r\nimport LastPage from '@material-ui/icons/LastPage';\r\nimport Remove from '@material-ui/icons/Remove';\r\nimport SaveAlt from '@material-ui/icons/SaveAlt';\r\nimport Search from '@material-ui/icons/Search';\r\nimport ViewColumn from '@material-ui/icons/ViewColumn';\r\nimport {getUserDetails, addUser, deleteUser, updateUser} from '../../config/firebaseManageUser';\r\nimport {MuiThemeProvider} from '@material-ui/core';\r\nimport {createMuiTheme} from '@material-ui/core/styles';\r\nconst tableIcons = {\r\n    Add: forwardRef((props, ref) => <AddBox {...props} ref={ref} />),\r\n    Check: forwardRef((props, ref) => <Check {...props} ref={ref} />),\r\n    Clear: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n    Delete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref} />),\r\n    DetailPanel: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\r\n    Edit: forwardRef((props, ref) => <Edit {...props} ref={ref} />),\r\n    Export: forwardRef((props, ref) => <SaveAlt {...props} ref={ref} />),\r\n    Filter: forwardRef((props, ref) => <FilterList {...props} ref={ref} />),\r\n    FirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref} />),\r\n    LastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref} />),\r\n    NextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\r\n    PreviousPage: forwardRef((props, ref) => <ChevronLeft {...props} ref={ref} />),\r\n    ResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n    Search: forwardRef((props, ref) => <Search {...props} ref={ref} />),\r\n    SortArrow: forwardRef((props, ref) => <ArrowDownward {...props} ref={ref} />),\r\n    ThirdStateCheck: forwardRef((props, ref) => <Remove {...props} ref={ref} />),\r\n    ViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref} />)\r\n};\r\n\r\nfunction GuestManagement() {\r\n\r\n    const theme = createMuiTheme({\r\n        palette: {\r\n          primary: {\r\n            main: '#4caf50',\r\n          },\r\n          secondary: {\r\n            main: '#ff9100',\r\n          },\r\n        },\r\n    \r\n      });\r\n     \r\n\r\n  const [state, setState] = React.useState({\r\n    columns: [\r\n        { title: 'FirstName', field: 'firstname'},\r\n        { title: 'LastName', field: 'lastname' },\r\n        { title: 'initials', field: 'initials' },\r\n        { title: 'Email', field: 'email',},\r\n        { title: 'userType', field: 'userType',},\r\n    ],\r\n  });\r\n\r\n    var [data, setData] = useState([]);\r\n    const [isLoading,setIsLoading] = useState(false);\r\n\r\n    useEffect(() => {\r\n        // By moving this function inside the effect, we can clearly see the values it uses.\r\n        setIsLoading(true);\r\n        async function fetchProduct() {\r\n            // if (!firebase.apps.length) {\r\n            //     firebase.initializeApp(firebaseConfig);\r\n            // }\r\n    \r\n            setData(await getUserDetails());\r\n            setIsLoading(false);\r\n    \r\n        }\r\n    \r\n        fetchProduct();\r\n    }, []);\r\n\r\n    const handleCreateUser = async (data)  => {\r\n        setIsLoading(true);\r\n        await addUser(data.firstname, data.lastname, data.email, data.initials, data.userType).then(async () => {\r\n            setTimeout(async function () {\r\n                setData(await getUserDetails());\r\n                \r\n            }, 400);\r\n        });\r\n        setIsLoading(false);\r\n    };\r\n    const handleEditUser = async (data)  => {\r\n        setIsLoading(true);\r\n        await updateUser(data.id,data.firstname, data.lastname, data.email, data.initials, data.userType).then(async () => {\r\n            setTimeout(async function () {\r\n                setData(await getUserDetails());\r\n                \r\n            }, 400);\r\n        });\r\n        setIsLoading(false);\r\n    };\r\n    const handleDeleteUser = async (id)  => {\r\n        console.log(id);\r\n        setIsLoading(true);\r\n        await deleteUser(id).then(async () => {\r\n            setIsLoading(true);\r\n            setTimeout(async function () {\r\n                setData(await getUserDetails());\r\n                \r\n            }, 400);\r\n            setIsLoading(false);\r\n        });\r\n    \r\n    };\r\n  return (\r\n      <div>\r\n    <MuiThemeProvider theme={theme}>\r\n    <MaterialTable\r\n\r\n        title=\"Guest Management\"\r\n        columns={state.columns}\r\n        data={(data)}\r\n        icons={tableIcons}\r\n        isLoading={isLoading}\r\n        editable={{\r\n            // isEditable: rowData => rowData.id === \"id\", // make id not editable\r\n            onRowAdd: (newData) => handleCreateUser(newData),\r\n            onRowDelete: (oldData) => handleDeleteUser(oldData.id),\r\n            onRowUpdate: (newData, oldData) => handleEditUser(newData)\r\n        }}\r\n    />\r\n    </MuiThemeProvider>\r\n    </div>\r\n  );\r\n}\r\nexport default GuestManagement;"]},"metadata":{},"sourceType":"module"}