{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Mpho\\\\Desktop\\\\AOD\\\\Informatics Project\\\\lotus.zip (1)\\\\src\\\\components\\\\admin\\\\manage-booking.js\";\nimport React, { forwardRef, useEffect, useState } from 'react';\nimport { Button } from '@material-ui/core';\nimport MaterialTable from 'material-table';\nimport AddBox from '@material-ui/icons/AddBox';\nimport ArrowDownward from '@material-ui/icons/ArrowDownward';\nimport Check from '@material-ui/icons/Check';\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\nimport ChevronRight from '@material-ui/icons/ChevronRight';\nimport Clear from '@material-ui/icons/Clear';\nimport DeleteOutline from '@material-ui/icons/DeleteOutline';\nimport Edit from '@material-ui/icons/Edit';\nimport FilterList from '@material-ui/icons/FilterList';\nimport FirstPage from '@material-ui/icons/FirstPage';\nimport LastPage from '@material-ui/icons/LastPage';\nimport Remove from '@material-ui/icons/Remove';\nimport SaveAlt from '@material-ui/icons/SaveAlt';\nimport Search from '@material-ui/icons/Search';\nimport ViewColumn from '@material-ui/icons/ViewColumn';\nimport { getBookingDetails, addBooking, deleteBooking, updateBooking } from '../../config/firebaseConfig';\nimport { MuiThemeProvider } from '@material-ui/core';\nimport { createMuiTheme } from '@material-ui/core/styles';\nconst tableIcons = {\n  Add: forwardRef((props, ref) => /*#__PURE__*/React.createElement(AddBox, Object.assign({}, props, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 37\n    }\n  }))),\n  Check: forwardRef((props, ref) => /*#__PURE__*/React.createElement(Check, Object.assign({}, props, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 39\n    }\n  }))),\n  Clear: forwardRef((props, ref) => /*#__PURE__*/React.createElement(Clear, Object.assign({}, props, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 39\n    }\n  }))),\n  Delete: forwardRef((props, ref) => /*#__PURE__*/React.createElement(DeleteOutline, Object.assign({}, props, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 40\n    }\n  }))),\n  DetailPanel: forwardRef((props, ref) => /*#__PURE__*/React.createElement(ChevronRight, Object.assign({}, props, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 45\n    }\n  }))),\n  Edit: forwardRef((props, ref) => /*#__PURE__*/React.createElement(Edit, Object.assign({}, props, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 38\n    }\n  }))),\n  Export: forwardRef((props, ref) => /*#__PURE__*/React.createElement(SaveAlt, Object.assign({}, props, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 40\n    }\n  }))),\n  Filter: forwardRef((props, ref) => /*#__PURE__*/React.createElement(FilterList, Object.assign({}, props, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 40\n    }\n  }))),\n  FirstPage: forwardRef((props, ref) => /*#__PURE__*/React.createElement(FirstPage, Object.assign({}, props, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 43\n    }\n  }))),\n  LastPage: forwardRef((props, ref) => /*#__PURE__*/React.createElement(LastPage, Object.assign({}, props, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 42\n    }\n  }))),\n  NextPage: forwardRef((props, ref) => /*#__PURE__*/React.createElement(ChevronRight, Object.assign({}, props, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 42\n    }\n  }))),\n  PreviousPage: forwardRef((props, ref) => /*#__PURE__*/React.createElement(ChevronLeft, Object.assign({}, props, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 46\n    }\n  }))),\n  ResetSearch: forwardRef((props, ref) => /*#__PURE__*/React.createElement(Clear, Object.assign({}, props, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 45\n    }\n  }))),\n  Search: forwardRef((props, ref) => /*#__PURE__*/React.createElement(Search, Object.assign({}, props, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 40\n    }\n  }))),\n  SortArrow: forwardRef((props, ref) => /*#__PURE__*/React.createElement(ArrowDownward, Object.assign({}, props, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 43\n    }\n  }))),\n  ThirdStateCheck: forwardRef((props, ref) => /*#__PURE__*/React.createElement(Remove, Object.assign({}, props, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 49\n    }\n  }))),\n  ViewColumn: forwardRef((props, ref) => /*#__PURE__*/React.createElement(ViewColumn, Object.assign({}, props, {\n    ref: ref,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 44\n    }\n  })))\n};\n\nfunction ManageBookings() {\n  const theme = createMuiTheme({\n    palette: {\n      primary: {\n        main: '#4caf50'\n      },\n      secondary: {\n        main: '#ff9100'\n      }\n    }\n  });\n  const [state, setState] = React.useState({\n    columns: [{\n      title: 'Customer',\n      field: 'Customer'\n    }, {\n      title: 'Status',\n      field: 'Status'\n    }, {\n      title: 'checkIn',\n      field: 'checkIn',\n      type: 'date'\n    }, {\n      title: 'checkOut',\n      field: 'checkOut',\n      type: 'date'\n    }, {\n      title: 'numberOfGuests',\n      field: 'numberOfGuests'\n    }, {\n      title: 'roomNumber',\n      field: 'roomNumber'\n    }, {\n      title: 'Additional information',\n      field: 'AdditionalInformation'\n    }]\n  });\n  var [data, setData] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  useEffect(() => {\n    // By moving this function inside the effect, we can clearly see the values it uses.\n    setIsLoading(true);\n\n    async function fetchProduct() {\n      // if (!firebase.apps.length) {\n      //     firebase.initializeApp(firebaseConfig);\n      // }\n      setData(await getBookingDetails());\n      setIsLoading(false);\n    }\n\n    fetchProduct();\n  }, []);\n\n  const handleCreateBooking = async data => {\n    setIsLoading(true);\n    await addBooking(data.Customer, data.Status, data.checkIn, data.checkOut, data.numberOfGuests, data.roomNumber, data.AdditionalInformation).then(async () => {\n      setTimeout(async function () {\n        setData(await getBookingDetails());\n      }, 400);\n    });\n    setIsLoading(false);\n  };\n\n  const handleEditBooking = async data => {\n    setIsLoading(true);\n    await updateBooking(data.id, data.Customer, data.Status, data.checkIn, data.checkOut, data.numberOfGuests, data.roomNumber, data.AdditionalInformation).then(async () => {\n      setTimeout(async function () {\n        setData(await getBookingDetails());\n      }, 400);\n    });\n    setIsLoading(false);\n  };\n\n  const handleDeleteBooking = async id => {\n    console.log(id);\n    setIsLoading(true);\n    await deleteBooking(id).then(async () => {\n      setIsLoading(true);\n      setTimeout(async function () {\n        setData(await getBookingDetails());\n      }, 400);\n      setIsLoading(false);\n    });\n  };\n\n  console.log(data);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(MuiThemeProvider, {\n    theme: theme,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(MaterialTable, {\n    title: \"Bookings\",\n    columns: state.columns,\n    data: data,\n    icons: tableIcons,\n    isLoading: isLoading,\n    editable: {\n      // isEditable: rowData => rowData.id === \"id\", // make id not editable\n      onRowAdd: newData => handleCreateBooking(newData),\n      onRowDelete: oldData => handleDeleteBooking(oldData.id),\n      onRowUpdate: (newData, oldData) => handleEditBooking(newData)\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 5\n    }\n  })));\n}\n\nexport default ManageBookings;","map":{"version":3,"sources":["C:/Users/Mpho/Desktop/AOD/Informatics Project/lotus.zip (1)/src/components/admin/manage-booking.js"],"names":["React","forwardRef","useEffect","useState","Button","MaterialTable","AddBox","ArrowDownward","Check","ChevronLeft","ChevronRight","Clear","DeleteOutline","Edit","FilterList","FirstPage","LastPage","Remove","SaveAlt","Search","ViewColumn","getBookingDetails","addBooking","deleteBooking","updateBooking","MuiThemeProvider","createMuiTheme","tableIcons","Add","props","ref","Delete","DetailPanel","Export","Filter","NextPage","PreviousPage","ResetSearch","SortArrow","ThirdStateCheck","ManageBookings","theme","palette","primary","main","secondary","state","setState","columns","title","field","type","data","setData","isLoading","setIsLoading","fetchProduct","handleCreateBooking","Customer","Status","checkIn","checkOut","numberOfGuests","roomNumber","AdditionalInformation","then","setTimeout","handleEditBooking","id","handleDeleteBooking","console","log","onRowAdd","newData","onRowDelete","oldData","onRowUpdate"],"mappings":"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","sourcesContent":["import React, { forwardRef, useEffect, useState }  from 'react';\r\nimport {Button} from '@material-ui/core';\r\nimport MaterialTable from 'material-table';\r\nimport AddBox from '@material-ui/icons/AddBox';\r\nimport ArrowDownward from '@material-ui/icons/ArrowDownward';\r\nimport Check from '@material-ui/icons/Check';\r\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\r\nimport ChevronRight from '@material-ui/icons/ChevronRight';\r\nimport Clear from '@material-ui/icons/Clear';\r\nimport DeleteOutline from '@material-ui/icons/DeleteOutline';\r\nimport Edit from '@material-ui/icons/Edit';\r\nimport FilterList from '@material-ui/icons/FilterList';\r\nimport FirstPage from '@material-ui/icons/FirstPage';\r\nimport LastPage from '@material-ui/icons/LastPage';\r\nimport Remove from '@material-ui/icons/Remove';\r\nimport SaveAlt from '@material-ui/icons/SaveAlt';\r\nimport Search from '@material-ui/icons/Search';\r\nimport ViewColumn from '@material-ui/icons/ViewColumn';\r\nimport {getBookingDetails, addBooking, deleteBooking, updateBooking} from '../../config/firebaseConfig';\r\nimport {MuiThemeProvider} from '@material-ui/core';\r\nimport {createMuiTheme} from '@material-ui/core/styles';\r\nconst tableIcons = {\r\n    Add: forwardRef((props, ref) => <AddBox {...props} ref={ref} />),\r\n    Check: forwardRef((props, ref) => <Check {...props} ref={ref} />),\r\n    Clear: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n    Delete: forwardRef((props, ref) => <DeleteOutline {...props} ref={ref} />),\r\n    DetailPanel: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\r\n    Edit: forwardRef((props, ref) => <Edit {...props} ref={ref} />),\r\n    Export: forwardRef((props, ref) => <SaveAlt {...props} ref={ref} />),\r\n    Filter: forwardRef((props, ref) => <FilterList {...props} ref={ref} />),\r\n    FirstPage: forwardRef((props, ref) => <FirstPage {...props} ref={ref} />),\r\n    LastPage: forwardRef((props, ref) => <LastPage {...props} ref={ref} />),\r\n    NextPage: forwardRef((props, ref) => <ChevronRight {...props} ref={ref} />),\r\n    PreviousPage: forwardRef((props, ref) => <ChevronLeft {...props} ref={ref} />),\r\n    ResetSearch: forwardRef((props, ref) => <Clear {...props} ref={ref} />),\r\n    Search: forwardRef((props, ref) => <Search {...props} ref={ref} />),\r\n    SortArrow: forwardRef((props, ref) => <ArrowDownward {...props} ref={ref} />),\r\n    ThirdStateCheck: forwardRef((props, ref) => <Remove {...props} ref={ref} />),\r\n    ViewColumn: forwardRef((props, ref) => <ViewColumn {...props} ref={ref} />)\r\n};\r\n\r\nfunction ManageBookings() {\r\n\r\n    const theme = createMuiTheme({\r\n        palette: {\r\n          primary: {\r\n            main: '#4caf50',\r\n          },\r\n          secondary: {\r\n            main: '#ff9100',\r\n          },\r\n        },\r\n    \r\n      });\r\n     \r\n\r\n  const [state, setState] = React.useState({\r\n    columns: [\r\n        { title: 'Customer', field: 'Customer'},\r\n        { title: 'Status', field: 'Status' },\r\n        { title: 'checkIn', field: 'checkIn', type: 'date'},\r\n        { title: 'checkOut', field: 'checkOut',type: 'date'},\r\n        { title: 'numberOfGuests', field: 'numberOfGuests',},\r\n        { title: 'roomNumber', field: 'roomNumber',},\r\n        { title: 'Additional information', field: 'AdditionalInformation',},\r\n    ],\r\n  });\r\n\r\n    var [data, setData] = useState([]);\r\n    const [isLoading,setIsLoading] = useState(false);\r\n\r\n    useEffect(() => {\r\n        // By moving this function inside the effect, we can clearly see the values it uses.\r\n        setIsLoading(true);\r\n        async function fetchProduct() {\r\n            // if (!firebase.apps.length) {\r\n            //     firebase.initializeApp(firebaseConfig);\r\n            // }\r\n    \r\n            setData(await getBookingDetails());\r\n            setIsLoading(false);\r\n    \r\n        }\r\n    \r\n        fetchProduct();\r\n    }, []);\r\n\r\n    const handleCreateBooking = async (data)  => {\r\n        setIsLoading(true);\r\n        await addBooking(data.Customer, data.Status, data.checkIn, data.checkOut, data.numberOfGuests, data.roomNumber, data.AdditionalInformation).then(async () => {\r\n            setTimeout(async function () {\r\n                setData(await getBookingDetails());\r\n                \r\n            }, 400);\r\n        });\r\n        setIsLoading(false);\r\n    };\r\n    const handleEditBooking = async (data)  => {\r\n        setIsLoading(true);\r\n        await updateBooking(data.id,data.Customer, data.Status, data.checkIn, data.checkOut, data.numberOfGuests, data.roomNumber, data.AdditionalInformation).then(async () => {\r\n            setTimeout(async function () {\r\n                setData(await getBookingDetails());\r\n                \r\n            }, 400);\r\n        });\r\n        setIsLoading(false);\r\n    };\r\n    const handleDeleteBooking = async (id)  => {\r\n        console.log(id);\r\n        setIsLoading(true);\r\n        await deleteBooking(id).then(async () => {\r\n            setIsLoading(true);\r\n            setTimeout(async function () {\r\n                setData(await getBookingDetails());\r\n                \r\n            }, 400);\r\n            setIsLoading(false);\r\n        });\r\n    \r\n    };\r\n    console.log(data);    \r\n  return (\r\n      <div>\r\n    {/* <Button color=\"inherit\">New Booking</Button> */}\r\n    <MuiThemeProvider theme={theme}>\r\n    <MaterialTable\r\n\r\n        title=\"Bookings\"\r\n        columns={state.columns}\r\n        data={(data)}\r\n        icons={tableIcons}\r\n        isLoading={isLoading}\r\n        editable={{\r\n            // isEditable: rowData => rowData.id === \"id\", // make id not editable\r\n            onRowAdd: (newData) => handleCreateBooking(newData),\r\n            onRowDelete: (oldData) => handleDeleteBooking(oldData.id),\r\n            onRowUpdate: (newData, oldData) => handleEditBooking(newData)\r\n        }}\r\n    />\r\n    </MuiThemeProvider>\r\n    </div>\r\n  );\r\n}\r\nexport default ManageBookings;"]},"metadata":{},"sourceType":"module"}